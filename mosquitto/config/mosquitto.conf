# Mosquitto MQTT Broker Configuration - Simplificada (sin TLS)
# Basado en: https://mosquitto.org/man/mosquitto-conf-5.html

# Listener MQTT estándar (sin TLS)
listener 1883 0.0.0.0
  protocol mqtt
  allow_anonymous true
  max_connections -1
  max_queued_messages 1000

# ============================================================================
# PERSISTENCIA
# ============================================================================

# NO guardar mensajes en disco (ephemeral queue)
persistence false

# ============================================================================
# LOGGING
# ============================================================================

# Nivel de log: debug, info, notice, warning, error (default: notice)
log_dest file /var/log/mosquitto/mosquitto.log
log_dest stdout
log_type notice
log_timestamp true

# ============================================================================
# LIMITES Y TIMEOUTS
# ============================================================================

# Keep-alive por defecto (segundos)
max_keepalive 60

# Tamaño máximo de payload (bytes)
max_queued_messages 1000

